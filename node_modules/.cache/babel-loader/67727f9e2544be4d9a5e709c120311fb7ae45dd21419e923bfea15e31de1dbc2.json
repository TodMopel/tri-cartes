{"ast":null,"code":"import React,{useRef,useState,useEffect}from'react';import Draggable from'./Draggable';import Droppable from'./Droppable';import config from'./../data/config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const CardDiscard=_ref=>{let{position,onDragStart,onCancel,cardMoving,mousePosition,onCardDropInsideDropZone,discardedCardsList,zIndexOrder}=_ref;const discardRef=useRef();const thisSize=config.discard.size;const dropZoneRef=useRef();const dropZoneSize={x:110,y:50};const[isDropZoneActive,setIsDropZoneActive]=useState(false);const handleCardEnter=()=>{//console.log(`Card entered discard dropZone!`);\nif(cardMoving)setIsDropZoneActive(true);};const handleCardLeave=()=>{//console.log(`Card left discard dropZone!`);\nif(cardMoving)setIsDropZoneActive(false);};useEffect(()=>{if(isDropZoneActive){onCardDropInsideDropZone(\"Discard\");setIsDropZoneActive(false);}},[cardMoving]);const handleCancel=()=>{const rect=discardRef.current.getBoundingClientRect();const discardPosition={x:rect.left+rect.width/2,y:rect.top};onCancel(discardPosition);};return/*#__PURE__*/_jsx(Draggable,{initialPosition:position,size:thisSize,onDragStart:onDragStart,zIndexOrder:zIndexOrder,children:/*#__PURE__*/_jsxs(\"div\",{className:\"column-content discard-container\",ref:discardRef,style:{position:'absolute',width:thisSize.x,height:thisSize.y,left:position.x+'px',top:position.y+'px'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"game-element-title\",children:config.discard.title}),/*#__PURE__*/_jsx(Droppable,{cardMoving:cardMoving,mousePosition:mousePosition,onCardEnter:handleCardEnter,onCardLeave:handleCardLeave,children:/*#__PURE__*/_jsx(\"div\",{className:\"discard-drop-zone\",style:{width:dropZoneSize.x,height:dropZoneSize.y,backgroundColor:!isDropZoneActive?'black':'darkgray'}})}),discardedCardsList.length>-1&&/*#__PURE__*/_jsx(\"div\",{className:\"button button-xsmall \"+(discardedCardsList.length===0&&'button-disabled'),onClick:handleCancel,children:config.discard.buttonText})]})});};export default CardDiscard;","map":{"version":3,"names":["React","useRef","useState","useEffect","Draggable","Droppable","config","jsx","_jsx","jsxs","_jsxs","CardDiscard","_ref","position","onDragStart","onCancel","cardMoving","mousePosition","onCardDropInsideDropZone","discardedCardsList","zIndexOrder","discardRef","thisSize","discard","size","dropZoneRef","dropZoneSize","x","y","isDropZoneActive","setIsDropZoneActive","handleCardEnter","handleCardLeave","handleCancel","rect","current","getBoundingClientRect","discardPosition","left","width","top","initialPosition","children","className","ref","style","height","title","onCardEnter","onCardLeave","backgroundColor","length","onClick","buttonText"],"sources":["/Users/todmopel/TheHangar/test deploy/tri-cartes/src/components/CardDiscard.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\nimport Draggable from './Draggable';\nimport Droppable from './Droppable';\n\nimport config from './../data/config';\n\nconst CardDiscard = ({ position, onDragStart, onCancel, cardMoving, mousePosition, onCardDropInsideDropZone, discardedCardsList, zIndexOrder}) => {\n    const discardRef = useRef();\n    const thisSize = config.discard.size;\n    const dropZoneRef = useRef();\n    const dropZoneSize = { x: 110, y: 50 };\n\n    const [isDropZoneActive, setIsDropZoneActive] = useState(false);\n\n    const handleCardEnter = () => {\n        //console.log(`Card entered discard dropZone!`);\n        if (cardMoving)\n            setIsDropZoneActive(true);\n    };\n\n    const handleCardLeave = () => {\n        //console.log(`Card left discard dropZone!`);\n        if (cardMoving)\n            setIsDropZoneActive(false);\n    };\n\n    useEffect(() => {\n        if (isDropZoneActive) {\n            onCardDropInsideDropZone(\"Discard\");\n            setIsDropZoneActive(false);\n        }\n    }, [cardMoving]);\n\n    const handleCancel = () => {\n        const rect = discardRef.current.getBoundingClientRect();\n        const discardPosition = {\n            x: rect.left + rect.width / 2,\n            y: rect.top,\n        };\n        onCancel(discardPosition);\n    };\n\n    return (\n        <Draggable\n            initialPosition={position}\n            size={thisSize}\n            onDragStart={onDragStart}\n            zIndexOrder={zIndexOrder}\n        >\n            <div\n                className=\"column-content discard-container\"\n                ref={discardRef}\n                style={{\n                    position: 'absolute',\n                    width: thisSize.x,\n                    height: thisSize.y,\n                    left: position.x + 'px',\n                    top: position.y + 'px',\n                }}\n            >\n\n                <div\n                    className=\"game-element-title\"\n                >\n                    {config.discard.title}\n                </div>\n                <Droppable\n                    cardMoving={cardMoving}\n                    mousePosition={mousePosition}\n                    onCardEnter={handleCardEnter}\n                    onCardLeave={handleCardLeave}\n                >\n                    <div\n                        className=\"discard-drop-zone\"\n                        style={{\n                            width: dropZoneSize.x,\n                            height: dropZoneSize.y,\n                            backgroundColor: !isDropZoneActive ? 'black' : 'darkgray',\n                        }}\n                    >\n                    </div>\n                </Droppable>\n\n                {\n                    discardedCardsList.length > -1 && (\n                        <div\n                            className={\"button button-xsmall \" + (discardedCardsList.length === 0 && 'button-disabled')}\n                            onClick={handleCancel}\n                        >\n                            {config.discard.buttonText}\n                        </div>\n                    )\n                }\n            </div>\n        </Draggable>\n    );\n};\n\nexport default CardDiscard;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}