{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import config from'./../data/config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const CategoryNode=_ref=>{let{categoryName,jobs,onDeleteJob}=_ref;return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:categoryName}),/*#__PURE__*/_jsx(\"ul\",{children:jobs.map((job,index)=>/*#__PURE__*/_jsx(JobNode,{job:job,onDelete:()=>onDeleteJob(categoryName,job)},index))})]});};const JobNode=_ref2=>{let{job,onDelete}=_ref2;return/*#__PURE__*/_jsxs(\"li\",{children:[job,' ',/*#__PURE__*/_jsx(\"span\",{className:\"button-delete\",onClick:onDelete,children:\"X\"})]});};const ResultPage=_ref3=>{let{resultData}=_ref3;const[resultTable,setResultTable]=useState([]);useEffect(()=>{setResultTable(resultData);},[resultData]);const handleDeleteJob=(categoryName,job)=>{const updatedResultTable=resultTable.map(category=>{if(category.categoryName===categoryName){return{...category,jobs:category.jobs.filter(j=>j!==job)};}return category;});setResultTable(updatedResultTable);};return/*#__PURE__*/_jsx(\"div\",{className:\"background-grid result-page center-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"center-content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:config.result.title}),/*#__PURE__*/_jsx(\"h3\",{children:config.result.subTitle}),/*#__PURE__*/_jsx(\"ul\",{children:resultTable&&resultTable.map((category,index)=>/*#__PURE__*/_jsx(CategoryNode,{categoryName:category.categoryName,jobs:category.jobs,onDeleteJob:handleDeleteJob},index))}),/*#__PURE__*/_jsx(\"div\",{className:\"ui-card ui-button-container\",children:/*#__PURE__*/_jsx(Link,{to:\"/tri-cartes/\",className:\"button button-normal\",children:\"Retourner \\xE0 l'accueil\"})})]})});};export default ResultPage;","map":{"version":3,"names":["React","useState","useEffect","Link","config","jsx","_jsx","jsxs","_jsxs","CategoryNode","_ref","categoryName","jobs","onDeleteJob","children","map","job","index","JobNode","onDelete","_ref2","className","onClick","ResultPage","_ref3","resultData","resultTable","setResultTable","handleDeleteJob","updatedResultTable","category","filter","j","result","title","subTitle","to"],"sources":["/Users/todmopel/TheHangar/test deploy/tri-cartes/src/pages/ResultPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport config from './../data/config';\n\nconst CategoryNode = ({ categoryName, jobs, onDeleteJob }) => {\n    return (\n        <li>\n            <strong>{categoryName}</strong>\n            <ul>\n                {jobs.map((job, index) => (\n                    <JobNode key={index} job={job} onDelete={() => onDeleteJob(categoryName, job)} />\n                ))}\n            </ul>\n        </li>\n    );\n};\n\nconst JobNode = ({ job, onDelete }) => {\n    return (\n        <li>\n            {job}{' '}\n            <span className=\"button-delete\" onClick={onDelete}>\n                X\n            </span>\n        </li>\n    );\n};\n\nconst ResultPage = ({ resultData }) => {\n    const [resultTable, setResultTable] = useState([]);\n\n    useEffect(() => {\n        setResultTable(resultData);\n    }, [resultData]);\n\n    const handleDeleteJob = (categoryName, job) => {\n        const updatedResultTable = resultTable.map((category) => {\n            if (category.categoryName === categoryName) {\n                return {\n                    ...category,\n                    jobs: category.jobs.filter((j) => j !== job),\n                };\n            }\n            return category;\n        });\n\n        setResultTable(updatedResultTable);\n    };\n\n    return (\n        <div className=\"background-grid result-page center-content\">\n            <div className=\"center-content\">\n                <h1>{config.result.title}</h1>\n                <h3>{config.result.subTitle}</h3>\n                <ul>\n                    {resultTable &&\n                        resultTable.map((category, index) => (\n                            <CategoryNode\n                                key={index}\n                                categoryName={category.categoryName}\n                                jobs={category.jobs}\n                                onDeleteJob={handleDeleteJob}\n                            />\n                        ))}\n                </ul>\n                <div className=\"ui-card ui-button-container\">\n                    <Link to=\"/tri-cartes/\" className=\"button button-normal\">\n                        Retourner Ã  l'accueil\n                    </Link>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ResultPage;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CAEvC,MAAO,CAAAC,MAAM,KAAM,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEtC,KAAM,CAAAC,YAAY,CAAGC,IAAA,EAAyC,IAAxC,CAAEC,YAAY,CAAEC,IAAI,CAAEC,WAAY,CAAC,CAAAH,IAAA,CACrD,mBACIF,KAAA,OAAAM,QAAA,eACIR,IAAA,WAAAQ,QAAA,CAASH,YAAY,CAAS,CAAC,cAC/BL,IAAA,OAAAQ,QAAA,CACKF,IAAI,CAACG,GAAG,CAAC,CAACC,GAAG,CAAEC,KAAK,gBACjBX,IAAA,CAACY,OAAO,EAAaF,GAAG,CAAEA,GAAI,CAACG,QAAQ,CAAEA,CAAA,GAAMN,WAAW,CAACF,YAAY,CAAEK,GAAG,CAAE,EAAhEC,KAAkE,CACnF,CAAC,CACF,CAAC,EACL,CAAC,CAEb,CAAC,CAED,KAAM,CAAAC,OAAO,CAAGE,KAAA,EAAuB,IAAtB,CAAEJ,GAAG,CAAEG,QAAS,CAAC,CAAAC,KAAA,CAC9B,mBACIZ,KAAA,OAAAM,QAAA,EACKE,GAAG,CAAE,GAAG,cACTV,IAAA,SAAMe,SAAS,CAAC,eAAe,CAACC,OAAO,CAAEH,QAAS,CAAAL,QAAA,CAAC,GAEnD,CAAM,CAAC,EACP,CAAC,CAEb,CAAC,CAED,KAAM,CAAAS,UAAU,CAAGC,KAAA,EAAoB,IAAnB,CAAEC,UAAW,CAAC,CAAAD,KAAA,CAC9B,KAAM,CAACE,WAAW,CAAEC,cAAc,CAAC,CAAG1B,QAAQ,CAAC,EAAE,CAAC,CAElDC,SAAS,CAAC,IAAM,CACZyB,cAAc,CAACF,UAAU,CAAC,CAC9B,CAAC,CAAE,CAACA,UAAU,CAAC,CAAC,CAEhB,KAAM,CAAAG,eAAe,CAAGA,CAACjB,YAAY,CAAEK,GAAG,GAAK,CAC3C,KAAM,CAAAa,kBAAkB,CAAGH,WAAW,CAACX,GAAG,CAAEe,QAAQ,EAAK,CACrD,GAAIA,QAAQ,CAACnB,YAAY,GAAKA,YAAY,CAAE,CACxC,MAAO,CACH,GAAGmB,QAAQ,CACXlB,IAAI,CAAEkB,QAAQ,CAAClB,IAAI,CAACmB,MAAM,CAAEC,CAAC,EAAKA,CAAC,GAAKhB,GAAG,CAC/C,CAAC,CACL,CACA,MAAO,CAAAc,QAAQ,CACnB,CAAC,CAAC,CAEFH,cAAc,CAACE,kBAAkB,CAAC,CACtC,CAAC,CAED,mBACIvB,IAAA,QAAKe,SAAS,CAAC,4CAA4C,CAAAP,QAAA,cACvDN,KAAA,QAAKa,SAAS,CAAC,gBAAgB,CAAAP,QAAA,eAC3BR,IAAA,OAAAQ,QAAA,CAAKV,MAAM,CAAC6B,MAAM,CAACC,KAAK,CAAK,CAAC,cAC9B5B,IAAA,OAAAQ,QAAA,CAAKV,MAAM,CAAC6B,MAAM,CAACE,QAAQ,CAAK,CAAC,cACjC7B,IAAA,OAAAQ,QAAA,CACKY,WAAW,EACRA,WAAW,CAACX,GAAG,CAAC,CAACe,QAAQ,CAAEb,KAAK,gBAC5BX,IAAA,CAACG,YAAY,EAETE,YAAY,CAAEmB,QAAQ,CAACnB,YAAa,CACpCC,IAAI,CAAEkB,QAAQ,CAAClB,IAAK,CACpBC,WAAW,CAAEe,eAAgB,EAHxBX,KAIR,CACJ,CAAC,CACN,CAAC,cACLX,IAAA,QAAKe,SAAS,CAAC,6BAA6B,CAAAP,QAAA,cACxCR,IAAA,CAACH,IAAI,EAACiC,EAAE,CAAC,cAAc,CAACf,SAAS,CAAC,sBAAsB,CAAAP,QAAA,CAAC,0BAEzD,CAAM,CAAC,CACN,CAAC,EACL,CAAC,CACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAAS,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}