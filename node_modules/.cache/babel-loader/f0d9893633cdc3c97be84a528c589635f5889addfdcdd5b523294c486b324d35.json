{"ast":null,"code":"import React,{useRef}from'react';import Draggable from'./Draggable';import config from'./../data/config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const CardPile=_ref=>{let{position,onDragStart,addCard,counter,zIndexOrder}=_ref;const cardPileRef=useRef();const thisSize=config.pile.size;const handleAddCard=()=>{const rect=cardPileRef.current.getBoundingClientRect();const pilePosition={x:rect.left+rect.width/2+getRandomOffset(),y:rect.top+getRandomOffset()};addCard(pilePosition);};const getRandomOffset=()=>{return Math.random()*28-28;};return/*#__PURE__*/_jsx(Draggable,{initialPosition:position,size:thisSize,onDragStart:onDragStart,zIndexOrder:zIndexOrder,children:/*#__PURE__*/_jsxs(\"div\",{className:\"column-content pile-container\",ref:cardPileRef,style:{position:'absolute',width:thisSize.x,height:thisSize.y,left:position.x+'px',top:position.y+'px'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"game-element-title\",children:config.pile.title}),/*#__PURE__*/_jsx(\"div\",{className:\"button button-small \"+(counter===0&&'button-disabled'),onClick:handleAddCard,children:config.pile.buttonText}),/*#__PURE__*/_jsx(\"div\",{className:\"game-txt\",style:{fontWeight:counter*9},children:counter>0&&\" \".concat(counter)})]})});};export default CardPile;","map":{"version":3,"names":["React","useRef","Draggable","config","jsx","_jsx","jsxs","_jsxs","CardPile","_ref","position","onDragStart","addCard","counter","zIndexOrder","cardPileRef","thisSize","pile","size","handleAddCard","rect","current","getBoundingClientRect","pilePosition","x","left","width","getRandomOffset","y","top","Math","random","initialPosition","children","className","ref","style","height","title","onClick","buttonText","fontWeight","concat"],"sources":["/Users/todmopel/TheHangar/lesCentMétiers/tri-cartes/src/components/CardPile.js"],"sourcesContent":["import React, { useRef } from 'react';\nimport Draggable from './Draggable';\n\nimport config from './../data/config';\n\nconst CardPile = ({ position, onDragStart, addCard, counter, zIndexOrder }) => {\n    const cardPileRef = useRef();\n    const thisSize = config.pile.size;\n\n    const handleAddCard = () => {\n        const rect = cardPileRef.current.getBoundingClientRect();\n        const pilePosition = {\n            x: rect.left + rect.width / 2 + getRandomOffset(),\n            y: rect.top + getRandomOffset(),\n        };\n        addCard(pilePosition);\n    };\n    \n    const getRandomOffset = () => {\n        return Math.random() * 28 - 28;\n    };\n\n    return (\n        <Draggable\n            initialPosition={position}\n            size={thisSize}\n            onDragStart={onDragStart}\n            zIndexOrder={zIndexOrder}\n        >\n            <div\n                className=\"column-content pile-container\"\n                ref={cardPileRef}\n                style={{\n                    position: 'absolute',\n                    width: thisSize.x,\n                    height: thisSize.y,\n                    left: position.x + 'px',\n                    top: position.y + 'px',\n                }}\n            >\n\n                <div\n                    className=\"game-element-title\"\n                >\n                    {config.pile.title}\n                </div>\n                <div\n                    className={\"button button-small \" + (counter === 0 && 'button-disabled')}\n                    onClick={handleAddCard}\n                >\n                    {config.pile.buttonText}\n                </div>\n                <div\n                    className=\"game-txt\"\n                    style={{\n                        fontWeight: counter * 9,\n                    }}\n                >\n                {counter > 0 && ` ${counter}`}\n                    </div>\n            </div>\n        </Draggable>\n    );\n};\n\nexport default CardPile;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,MAAM,KAAQ,OAAO,CACrC,MAAO,CAAAC,SAAS,KAAM,aAAa,CAEnC,MAAO,CAAAC,MAAM,KAAM,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEtC,KAAM,CAAAC,QAAQ,CAAGC,IAAA,EAA8D,IAA7D,CAAEC,QAAQ,CAAEC,WAAW,CAAEC,OAAO,CAAEC,OAAO,CAAEC,WAAY,CAAC,CAAAL,IAAA,CACtE,KAAM,CAAAM,WAAW,CAAGd,MAAM,CAAC,CAAC,CAC5B,KAAM,CAAAe,QAAQ,CAAGb,MAAM,CAACc,IAAI,CAACC,IAAI,CAEjC,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CACxB,KAAM,CAAAC,IAAI,CAAGL,WAAW,CAACM,OAAO,CAACC,qBAAqB,CAAC,CAAC,CACxD,KAAM,CAAAC,YAAY,CAAG,CACjBC,CAAC,CAAEJ,IAAI,CAACK,IAAI,CAAGL,IAAI,CAACM,KAAK,CAAG,CAAC,CAAGC,eAAe,CAAC,CAAC,CACjDC,CAAC,CAAER,IAAI,CAACS,GAAG,CAAGF,eAAe,CAAC,CAClC,CAAC,CACDf,OAAO,CAACW,YAAY,CAAC,CACzB,CAAC,CAED,KAAM,CAAAI,eAAe,CAAGA,CAAA,GAAM,CAC1B,MAAO,CAAAG,IAAI,CAACC,MAAM,CAAC,CAAC,CAAG,EAAE,CAAG,EAAE,CAClC,CAAC,CAED,mBACI1B,IAAA,CAACH,SAAS,EACN8B,eAAe,CAAEtB,QAAS,CAC1BQ,IAAI,CAAEF,QAAS,CACfL,WAAW,CAAEA,WAAY,CACzBG,WAAW,CAAEA,WAAY,CAAAmB,QAAA,cAEzB1B,KAAA,QACI2B,SAAS,CAAC,+BAA+B,CACzCC,GAAG,CAAEpB,WAAY,CACjBqB,KAAK,CAAE,CACH1B,QAAQ,CAAE,UAAU,CACpBgB,KAAK,CAAEV,QAAQ,CAACQ,CAAC,CACjBa,MAAM,CAAErB,QAAQ,CAACY,CAAC,CAClBH,IAAI,CAAEf,QAAQ,CAACc,CAAC,CAAG,IAAI,CACvBK,GAAG,CAAEnB,QAAQ,CAACkB,CAAC,CAAG,IACtB,CAAE,CAAAK,QAAA,eAGF5B,IAAA,QACI6B,SAAS,CAAC,oBAAoB,CAAAD,QAAA,CAE7B9B,MAAM,CAACc,IAAI,CAACqB,KAAK,CACjB,CAAC,cACNjC,IAAA,QACI6B,SAAS,CAAE,sBAAsB,EAAIrB,OAAO,GAAK,CAAC,EAAI,iBAAiB,CAAE,CACzE0B,OAAO,CAAEpB,aAAc,CAAAc,QAAA,CAEtB9B,MAAM,CAACc,IAAI,CAACuB,UAAU,CACtB,CAAC,cACNnC,IAAA,QACI6B,SAAS,CAAC,UAAU,CACpBE,KAAK,CAAE,CACHK,UAAU,CAAE5B,OAAO,CAAG,CAC1B,CAAE,CAAAoB,QAAA,CAELpB,OAAO,CAAG,CAAC,MAAA6B,MAAA,CAAQ7B,OAAO,CAAE,CACpB,CAAC,EACT,CAAC,CACC,CAAC,CAEpB,CAAC,CAED,cAAe,CAAAL,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}