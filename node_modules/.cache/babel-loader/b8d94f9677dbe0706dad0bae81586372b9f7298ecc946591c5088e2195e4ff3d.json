{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const Draggable=_ref=>{let{initialPosition,size,children,onDragStart,onDragEnd,onDragMove,zIndexOrder}=_ref;const[isDragging,setIsDragging]=useState(false);const[dragStartX,setDragStartX]=useState(0);const[dragStartY,setDragStartY]=useState(0);const[currentOffset,setCurrentOffset]=useState({x:0,y:0});const targetRef=useRef(null);const borderSize=30;useEffect(()=>{const handleMove=e=>{if(isDragging){const clientX=e.touches?e.touches[0].clientX:e.clientX;const clientY=e.touches?e.touches[0].clientY:e.clientY;const deltaX=clientX-dragStartX+currentOffset.x;const deltaY=clientY-dragStartY+currentOffset.y;const clampedX=Math.min(Math.max(deltaX,-initialPosition.x+borderSize),window.innerWidth-size.x-initialPosition.x-borderSize);const clampedY=Math.min(Math.max(deltaY,-initialPosition.y+borderSize),window.innerHeight-size.y-initialPosition.y-borderSize);const transformValue=\"translate3d(\".concat(clampedX,\"px, \").concat(clampedY,\"px, 0)\");targetRef.current.style.transform=transformValue;if(onDragMove)onDragMove();}};const handleUp=()=>{setIsDragging(false);if(onDragEnd)onDragEnd();window.removeEventListener('mousemove',handleMove);window.removeEventListener('touchmove',handleMove);window.removeEventListener('mouseup',handleUp);window.removeEventListener('touchend',handleUp);};if(isDragging){window.addEventListener('mousemove',handleMove);window.addEventListener('touchmove',handleMove,{passive:false});window.addEventListener('mouseup',handleUp);window.addEventListener('touchend',handleUp);}return()=>{window.removeEventListener('mousemove',handleMove);window.removeEventListener('touchmove',handleMove);window.removeEventListener('mouseup',handleUp);window.removeEventListener('touchend',handleUp);};},[isDragging,currentOffset,dragStartX,dragStartY,initialPosition,onDragEnd,onDragMove,size]);const handleDown=e=>{setIsDragging(true);setDragStartX(e.touches?e.touches[0].clientX:e.clientX);setDragStartY(e.touches?e.touches[0].clientY:e.clientY);targetRef.current=e.currentTarget;const currentTransform=targetRef.current.style.transform;const translateValues=currentTransform.match(/translate3d\\(([^)]+)\\)/);if(translateValues){const transformArray=translateValues[1].split(/[\\s,]+/);const translateX=parseFloat(transformArray[0]);const translateY=parseFloat(transformArray[1]);if(!isNaN(translateX)&&!isNaN(translateY)){setCurrentOffset({x:translateX,y:translateY});}}if(onDragStart)onDragStart();};return/*#__PURE__*/_jsx(\"div\",{onMouseDown:handleDown,onTouchStart:handleDown,style:{cursor:isDragging?'grabbing':'grab',position:'absolute',zIndex:zIndexOrder},children:children});};export default Draggable;","map":{"version":3,"names":["React","useState","useEffect","useRef","jsx","_jsx","Draggable","_ref","initialPosition","size","children","onDragStart","onDragEnd","onDragMove","zIndexOrder","isDragging","setIsDragging","dragStartX","setDragStartX","dragStartY","setDragStartY","currentOffset","setCurrentOffset","x","y","targetRef","borderSize","handleMove","e","clientX","touches","clientY","deltaX","deltaY","clampedX","Math","min","max","window","innerWidth","clampedY","innerHeight","transformValue","concat","current","style","transform","handleUp","removeEventListener","addEventListener","passive","handleDown","currentTarget","currentTransform","translateValues","match","transformArray","split","translateX","parseFloat","translateY","isNaN","onMouseDown","onTouchStart","cursor","position","zIndex"],"sources":["/Users/todmopel/TheHangar/test deploy/tri-cartes/src/components/Draggable.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n\nconst Draggable = ({ initialPosition, size, children, onDragStart, onDragEnd, onDragMove, zIndexOrder }) => {\n    const [isDragging, setIsDragging] = useState(false);\n    const [dragStartX, setDragStartX] = useState(0);\n    const [dragStartY, setDragStartY] = useState(0);\n    const [currentOffset, setCurrentOffset] = useState({ x: 0, y: 0 });\n\n    const targetRef = useRef(null);\n\n    const borderSize = 30;\n\n    useEffect(() => {\n        const handleMove = (e) => {\n            if (isDragging) {\n                const clientX = e.touches ? e.touches[0].clientX : e.clientX;\n                const clientY = e.touches ? e.touches[0].clientY : e.clientY;\n\n                const deltaX = clientX - dragStartX + currentOffset.x;\n                const deltaY = clientY - dragStartY + currentOffset.y;\n\n                const clampedX = Math.min(Math.max(deltaX, -initialPosition.x + borderSize), window.innerWidth - size.x - initialPosition.x - borderSize);\n                const clampedY = Math.min(Math.max(deltaY, -initialPosition.y + borderSize), window.innerHeight - size.y - initialPosition.y - borderSize);\n\n                const transformValue = `translate3d(${clampedX}px, ${clampedY}px, 0)`;\n                targetRef.current.style.transform = transformValue;\n\n                if (onDragMove)\n                    onDragMove();\n            }\n        };\n\n        const handleUp = () => {\n            setIsDragging(false);\n\n            if (onDragEnd)\n                onDragEnd();\n\n            window.removeEventListener('mousemove', handleMove);\n            window.removeEventListener('touchmove', handleMove);\n            window.removeEventListener('mouseup', handleUp);\n            window.removeEventListener('touchend', handleUp);\n        };\n\n        if (isDragging) {\n            window.addEventListener('mousemove', handleMove);\n            window.addEventListener('touchmove', handleMove, { passive: false });\n            window.addEventListener('mouseup', handleUp);\n            window.addEventListener('touchend', handleUp);\n        }\n\n        return () => {\n            window.removeEventListener('mousemove', handleMove);\n            window.removeEventListener('touchmove', handleMove);\n            window.removeEventListener('mouseup', handleUp);\n            window.removeEventListener('touchend', handleUp);\n        };\n    }, [isDragging, currentOffset, dragStartX, dragStartY, initialPosition, onDragEnd, onDragMove, size]);\n\n    const handleDown = (e) => {\n        setIsDragging(true);\n        setDragStartX(e.touches ? e.touches[0].clientX : e.clientX);\n        setDragStartY(e.touches ? e.touches[0].clientY : e.clientY);\n        targetRef.current = e.currentTarget;\n\n        const currentTransform = targetRef.current.style.transform;\n        const translateValues = currentTransform.match(/translate3d\\(([^)]+)\\)/);\n\n        if (translateValues) {\n            const transformArray = translateValues[1].split(/[\\s,]+/);\n            const translateX = parseFloat(transformArray[0]);\n            const translateY = parseFloat(transformArray[1]);\n\n            if (!isNaN(translateX) && !isNaN(translateY)) {\n                setCurrentOffset({\n                    x: translateX,\n                    y: translateY,\n                });\n            }\n        }\n\n        if (onDragStart)\n            onDragStart();\n    };\n\n    return (\n        <div\n            onMouseDown={handleDown}\n            onTouchStart={handleDown}\n            style={{\n                cursor: isDragging ? 'grabbing' : 'grab',\n                position: 'absolute',\n                zIndex: zIndexOrder,\n            }}\n        >\n            {children}\n        </div>\n    );\n};\n\nexport default Draggable;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}