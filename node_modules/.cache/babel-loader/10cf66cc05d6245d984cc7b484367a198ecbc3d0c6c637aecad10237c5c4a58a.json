{"ast":null,"code":"import React,{useRef,useState,useEffect}from'react';import Draggable from'./Draggable';import Droppable from'./Droppable';import Card from'./Card';import config from'./../data/config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const InfoPanel=_ref=>{let{position,onDragStart,cardMoving,mousePosition,onCardDropInsideDropZone,zIndexOrder,droppedCard,onCardRestored}=_ref;const infoPanelRef=useRef();const thisSize=config.infoPanel.size;const panelSize=config.card.size;const dropZoneSize=config.card.size;const dropZoneRef=useRef();const[isDropZoneActive,setIsDropZoneActive]=useState(false);const handleCardEnter=()=>{//console.log(`Card entered infoPanel dropZone!`);\nsetIsDropZoneActive(true);};const handleCardLeave=()=>{//console.log(`Card left infoPanel dropZone!`);\nsetIsDropZoneActive(false);};useEffect(()=>{if(isDropZoneActive){onCardDropInsideDropZone(\"InfoPanel\");setIsDropZoneActive(false);}},[cardMoving]);const handleRecoverCard=()=>{if(droppedCard){const rect=infoPanelRef.current.getBoundingClientRect();const position={x:rect.left+6,y:rect.top+35};onCardRestored(position,droppedCard);}};return/*#__PURE__*/_jsx(Draggable,{initialPosition:position,size:thisSize,onDragStart:onDragStart,zIndexOrder:zIndexOrder,children:/*#__PURE__*/_jsxs(\"div\",{ref:infoPanelRef,className:\"column-content info-container\",style:{position:'absolute',width:thisSize.x,height:thisSize.y,left:position.x+'px',top:position.y+'px'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"game-element-title\",children:config.infoPanel.title}),droppedCard?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"center-content info-container-panel  panel-txt\",style:{position:'absolute',top:-125+'px',left:-45+'px',width:panelSize.x*1.5,height:panelSize.y*1.5},children:/*#__PURE__*/_jsx(\"div\",{className:\"game-txt\",children:droppedCard.description})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-container\",children:/*#__PURE__*/_jsxs(\"div\",{onClick:handleRecoverCard,className:\"card card-txt\",style:{width:dropZoneSize.x,height:dropZoneSize.y},children:[droppedCard.text,/*#__PURE__*/_jsx(\"div\",{className:\"game-txt\",style:{position:'absolute',top:90+'px',color:'darkgray',lineHeight:100+'%'},children:config.infoPanel.buttonText})]})})]}):/*#__PURE__*/_jsx(Droppable,{cardMoving:cardMoving,mousePosition:mousePosition,onCardEnter:handleCardEnter,onCardLeave:handleCardLeave,children:/*#__PURE__*/_jsx(\"div\",{className:\"drop-zone-default\",style:{width:dropZoneSize.x,height:dropZoneSize.y,backgroundColor:!isDropZoneActive?'#FFCA0080':'transparent'}})})]})});};export default InfoPanel;","map":{"version":3,"names":["React","useRef","useState","useEffect","Draggable","Droppable","Card","config","jsx","_jsx","jsxs","_jsxs","InfoPanel","_ref","position","onDragStart","cardMoving","mousePosition","onCardDropInsideDropZone","zIndexOrder","droppedCard","onCardRestored","infoPanelRef","thisSize","infoPanel","size","panelSize","card","dropZoneSize","dropZoneRef","isDropZoneActive","setIsDropZoneActive","handleCardEnter","handleCardLeave","handleRecoverCard","rect","current","getBoundingClientRect","x","left","y","top","initialPosition","children","ref","className","style","width","height","title","description","onClick","text","color","lineHeight","buttonText","onCardEnter","onCardLeave","backgroundColor"],"sources":["/Users/todmopel/TheHangar/lesCentMeÌtiers/tri-cartes/src/components/InfoPanel.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\nimport Draggable from './Draggable';\nimport Droppable from './Droppable';\nimport Card from './Card';\n\nimport config from './../data/config';\n\nconst InfoPanel = ({ position, onDragStart, cardMoving, mousePosition, onCardDropInsideDropZone, zIndexOrder, droppedCard, onCardRestored }) => {\n    const infoPanelRef = useRef();\n    const thisSize = config.infoPanel.size;\n    const panelSize = config.card.size;\n    const dropZoneSize = config.card.size;\n\n    const dropZoneRef = useRef();\n\n    const [isDropZoneActive, setIsDropZoneActive] = useState(false);\n\n    const handleCardEnter = () => {\n        //console.log(`Card entered infoPanel dropZone!`);\n        setIsDropZoneActive(true);\n    };\n\n    const handleCardLeave = () => {\n        //console.log(`Card left infoPanel dropZone!`);\n        setIsDropZoneActive(false);\n    };\n\n    useEffect(() => {\n        if (isDropZoneActive) {\n            onCardDropInsideDropZone(\"InfoPanel\");\n            setIsDropZoneActive(false);\n        }\n    }, [cardMoving]);\n\n    const handleRecoverCard = () => {\n        if (droppedCard) {\n            const rect = infoPanelRef.current.getBoundingClientRect();\n            const position = {\n                x: rect.left + 6,\n                y: rect.top + 35,\n            };\n            onCardRestored(position, droppedCard)\n        }\n    };\n\n    return (\n        <Draggable\n            initialPosition={position}\n            size={thisSize}\n            onDragStart={onDragStart}\n            zIndexOrder={zIndexOrder}\n        >\n            <div\n                ref={infoPanelRef}\n                className=\"column-content info-container\"\n                style={{\n                    position: 'absolute',\n                    width: thisSize.x,\n                    height: thisSize.y,\n                    left: position.x + 'px',\n                    top: position.y + 'px',\n                }}\n            >\n\n                <div\n                    className=\"game-element-title\"\n                >\n                    {config.infoPanel.title}\n                </div>\n\n                {droppedCard ? (\n                    <div>\n                        <div\n                            className=\"center-content info-container-panel  panel-txt\"\n                            style={{\n                                position: 'absolute',\n                                top: -125 + 'px',\n                                left: -45 + 'px',\n                                width: panelSize.x * 1.5,\n                                height: panelSize.y * 1.5,\n                            }}\n                        >\n                            <div\n                                className=\"game-txt\"\n                            >\n                            {droppedCard.description}\n                            </div>\n                        </div>\n\n                        <div\n                            className=\"card-container\"\n                        >\n                            <div\n                                onClick={handleRecoverCard}\n                                className=\"card card-txt\"\n                                style={{\n                                    width: dropZoneSize.x,\n                                    height: dropZoneSize.y,\n                                }}\n                            >\n                                {droppedCard.text}\n                                <div\n                                    className=\"game-txt\"\n                                    style={{\n                                        position: 'absolute',\n\n                                        top: 90 + 'px',\n                                        color: 'darkgray',\n                                        lineHeight: 100 + '%',\n\n                                    }}\n                                >\n                                    {config.infoPanel.buttonText}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                ) : (\n                        <Droppable\n                            cardMoving={cardMoving}\n                            mousePosition={mousePosition}\n                            onCardEnter={handleCardEnter}\n                            onCardLeave={handleCardLeave}\n                        >\n                            <div\n                                className=\"drop-zone-default\"\n                                style={{\n                                    width: dropZoneSize.x,\n                                    height: dropZoneSize.y,\n                                    backgroundColor: !isDropZoneActive ? '#FFCA0080' : 'transparent',\n                                }}\n                            >\n                            </div>\n                        </Droppable>\n                    )}\n            </div>\n        </Draggable>\n    );\n};\n\nexport default InfoPanel;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}