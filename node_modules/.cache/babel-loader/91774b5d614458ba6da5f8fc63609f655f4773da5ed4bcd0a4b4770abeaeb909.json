{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import config from'./../data/config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const CategoryNode=_ref=>{let{categoryName,jobs,onDeleteJob}=_ref;return/*#__PURE__*/_jsxs(\"li\",{className:\"category-node center-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"category-name\",children:categoryName}),/*#__PURE__*/_jsx(\"ul\",{className:\"jobs-list\",children:jobs.map((job,index)=>/*#__PURE__*/_jsx(JobNode,{job:job,onDelete:()=>onDeleteJob(categoryName,job)},index))})]});};const JobNode=_ref2=>{let{job,onDelete}=_ref2;const[selected,setSelected]=useState(false);const onSelect=()=>{setSelected(!selected);};return/*#__PURE__*/_jsxs(\"li\",{className:\"job-node row-content\",children:[/*#__PURE__*/_jsx(\"span\",{onClick:onSelect,className:\"job-text \".concat(selected?'job-text-selected':''),children:job}),/*#__PURE__*/_jsx(\"span\",{className:\"delete-button button-small\",onClick:onDelete,children:config.result.deleteJobButton})]});};const ResultPage=_ref3=>{let{resultData}=_ref3;const[resultTable,setResultTable]=useState([]);useEffect(()=>{setResultTable(resultData);},[resultData]);const handleDeleteJob=(categoryName,job)=>{const updatedResultTable=resultTable.map(category=>{if(category.categoryName===categoryName){return{...category,jobs:category.jobs.filter(j=>j!==job)};}return category;});setResultTable(updatedResultTable);};const Categories=resultTable.filter(category=>category.jobs.length>0);return/*#__PURE__*/_jsx(\"div\",{className:\"background-grid result-page center-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"center-content-spread\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:config.result.title}),/*#__PURE__*/_jsx(\"h3\",{children:config.result.subTitle})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"result-list\",children:Categories&&Categories.map((category,index)=>/*#__PURE__*/_jsx(CategoryNode,{categoryName:category.categoryName,jobs:category.jobs,onDeleteJob:handleDeleteJob},index))}),/*#__PURE__*/_jsx(\"div\",{className:\"ui-card ui-button-container\",children:/*#__PURE__*/_jsx(Link,{to:\"/tri-cartes/\",className:\"button button-normal\",children:\"Retourner \\xE0 l'accueil\"})})]})});};export default ResultPage;","map":{"version":3,"names":["React","useState","useEffect","Link","config","jsx","_jsx","jsxs","_jsxs","CategoryNode","_ref","categoryName","jobs","onDeleteJob","className","children","map","job","index","JobNode","onDelete","_ref2","selected","setSelected","onSelect","onClick","concat","result","deleteJobButton","ResultPage","_ref3","resultData","resultTable","setResultTable","handleDeleteJob","updatedResultTable","category","filter","j","Categories","length","title","subTitle","to"],"sources":["/Users/todmopel/TheHangar/test deploy/tri-cartes/src/pages/ResultPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport config from './../data/config';\n\nconst CategoryNode = ({ categoryName, jobs, onDeleteJob }) => {\n    return (\n        <li className=\"category-node center-content\">\n            <div className=\"category-name\">{categoryName}</div>\n            <ul className=\"jobs-list\">\n                {jobs.map((job, index) => (\n                    <JobNode key={index} job={job} onDelete={() => onDeleteJob(categoryName, job)} />\n                ))}\n            </ul>\n        </li>\n    );\n};\n\nconst JobNode = ({ job, onDelete }) => {\n    const [selected, setSelected] = useState(false);\n\n    const onSelect = () => {\n        setSelected(!selected);\n    };\n\n    return (\n        <li className=\"job-node row-content\">\n            <span onClick={onSelect} className={`job-text ${selected ? 'job-text-selected' : ''}`}>{job}</span>\n\n            <span className=\"delete-button button-small\" onClick={onDelete}>{config.result.deleteJobButton}</span>\n        </li>\n    );\n};\n\nconst ResultPage = ({ resultData }) => {\n    const [resultTable, setResultTable] = useState([]);\n\n    useEffect(() => {\n        setResultTable(resultData);\n    }, [resultData]);\n\n    const handleDeleteJob = (categoryName, job) => {\n        const updatedResultTable = resultTable.map((category) => {\n            if (category.categoryName === categoryName) {\n                return {\n                    ...category,\n                    jobs: category.jobs.filter((j) => j !== job),\n                };\n            }\n            return category;\n        });\n\n        setResultTable(updatedResultTable);\n    };\n\n    const Categories = resultTable.filter((category) => category.jobs.length > 0);\n\n    return (\n        <div className=\"background-grid result-page center-content\">\n            <div className=\"center-content-spread\">\n                <div>\n                    <h1>{config.result.title}</h1>\n                    <h3>{config.result.subTitle}</h3>\n                </div>\n                <ul className=\"result-list\">\n                    {Categories &&\n                        Categories.map((category, index) => (\n                            <CategoryNode\n                                key={index}\n                                categoryName={category.categoryName}\n                                jobs={category.jobs}\n                                onDeleteJob={handleDeleteJob}\n                            />\n                        ))}\n                </ul>\n                <div className=\"ui-card ui-button-container\">\n                    <Link to=\"/tri-cartes/\" className=\"button button-normal\">\n                        Retourner Ã  l'accueil\n                    </Link>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ResultPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}