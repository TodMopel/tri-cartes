{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const Draggable=_ref=>{let{initialPosition,size,children,onDragStart,onDragEnd,onDragMove,zIndexOrder}=_ref;const[isDragging,setIsDragging]=useState(false);const[dragStartX,setDragStartX]=useState(0);const[dragStartY,setDragStartY]=useState(0);const[currentOffset,setCurrentOffset]=useState({x:0,y:0});const targetRef=useRef(null);const borderSize=30;useEffect(()=>{const handleMouseMove=e=>{if(isDragging){const deltaX=e.clientX-dragStartX+currentOffset.x;const deltaY=e.clientY-dragStartY+currentOffset.y;const clampedX=Math.min(Math.max(deltaX,-initialPosition.x+borderSize),window.innerWidth-size.x-initialPosition.x-borderSize);const clampedY=Math.min(Math.max(deltaY,-initialPosition.y+borderSize),window.innerHeight-size.y-initialPosition.y-borderSize);const transformValue=\"translate3d(\".concat(clampedX,\"px, \").concat(clampedY,\"px, 0)\");targetRef.current.style.transform=transformValue;if(onDragMove)onDragMove();}};const handleMouseUp=()=>{setIsDragging(false);if(onDragEnd)onDragEnd();};if(isDragging){window.addEventListener('mousemove',handleMouseMove);window.addEventListener('mouseup',handleMouseUp);}return()=>{window.removeEventListener('mousemove',handleMouseMove);window.removeEventListener('mouseup',handleMouseUp);};},[isDragging]);const handleMouseDown=e=>{setIsDragging(true);setDragStartX(e.clientX);setDragStartY(e.clientY);targetRef.current=e.currentTarget;const currentTransform=targetRef.current.style.transform;const translateValues=currentTransform.match(/translate3d\\(([^)]+)\\)/);if(translateValues){const transformArray=translateValues[1].split(/[\\s,]+/);const translateX=parseFloat(transformArray[0]);const translateY=parseFloat(transformArray[1]);if(!isNaN(translateX)&&!isNaN(translateY)){setCurrentOffset({x:translateX,y:translateY});}}if(onDragStart)onDragStart();};return/*#__PURE__*/_jsx(\"div\",{onMouseDown:handleMouseDown,onTouchStart:handleMouseDown,style:{cursor:isDragging?'grabbing':'grab',position:'absolute',zIndex:zIndexOrder},children:children});};export default Draggable;","map":{"version":3,"names":["React","useState","useEffect","useRef","jsx","_jsx","Draggable","_ref","initialPosition","size","children","onDragStart","onDragEnd","onDragMove","zIndexOrder","isDragging","setIsDragging","dragStartX","setDragStartX","dragStartY","setDragStartY","currentOffset","setCurrentOffset","x","y","targetRef","borderSize","handleMouseMove","e","deltaX","clientX","deltaY","clientY","clampedX","Math","min","max","window","innerWidth","clampedY","innerHeight","transformValue","concat","current","style","transform","handleMouseUp","addEventListener","removeEventListener","handleMouseDown","currentTarget","currentTransform","translateValues","match","transformArray","split","translateX","parseFloat","translateY","isNaN","onMouseDown","onTouchStart","cursor","position","zIndex"],"sources":["/Users/todmopel/TheHangar/test deploy/tri-cartes/src/components/Draggable.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n\nconst Draggable = ({ initialPosition, size, children, onDragStart, onDragEnd, onDragMove, zIndexOrder }) => {\n    const [isDragging, setIsDragging] = useState(false);\n    const [dragStartX, setDragStartX] = useState(0);\n    const [dragStartY, setDragStartY] = useState(0);\n    const [currentOffset, setCurrentOffset] = useState({ x: 0, y: 0 });\n\n    const targetRef = useRef(null);\n\n    const borderSize = 30;\n\n    useEffect(() => {\n        const handleMouseMove = (e) => {\n            if (isDragging) {\n                const deltaX = e.clientX - dragStartX + currentOffset.x;\n                const deltaY = e.clientY - dragStartY + currentOffset.y;\n\n                const clampedX = Math.min(Math.max(deltaX, -initialPosition.x + borderSize), window.innerWidth - size.x - initialPosition.x - borderSize);\n                const clampedY = Math.min(Math.max(deltaY, -initialPosition.y + borderSize), window.innerHeight - size.y - initialPosition.y - borderSize);\n\n                const transformValue = `translate3d(${clampedX}px, ${clampedY}px, 0)`;\n                targetRef.current.style.transform = transformValue;\n\n                if (onDragMove)\n                    onDragMove();\n            }\n        };\n\n        const handleMouseUp = () => {\n            setIsDragging(false);\n\n            if (onDragEnd)\n                onDragEnd();\n        };\n\n        if (isDragging) {\n            window.addEventListener('mousemove', handleMouseMove);\n            window.addEventListener('mouseup', handleMouseUp);\n        }\n\n        return () => {\n            window.removeEventListener('mousemove', handleMouseMove);\n            window.removeEventListener('mouseup', handleMouseUp);\n        };\n    }, [isDragging]);\n\n    const handleMouseDown = (e) => {\n        setIsDragging(true);\n        setDragStartX(e.clientX);\n        setDragStartY(e.clientY);\n        targetRef.current = e.currentTarget;\n\n        const currentTransform = targetRef.current.style.transform;\n        const translateValues = currentTransform.match(/translate3d\\(([^)]+)\\)/);\n\n        if (translateValues) {\n            const transformArray = translateValues[1].split(/[\\s,]+/);\n            const translateX = parseFloat(transformArray[0]);\n            const translateY = parseFloat(transformArray[1]);\n\n            if (!isNaN(translateX) && !isNaN(translateY)) {\n                setCurrentOffset({\n                    x: translateX,\n                    y: translateY,\n                });\n            }\n        }\n\n        if (onDragStart)\n            onDragStart();\n    };\n\n    return (\n        <div\n            onMouseDown={handleMouseDown}\n            onTouchStart={handleMouseDown}\n            style={{\n                cursor: isDragging ? 'grabbing' : 'grab',\n                position: 'absolute',\n                zIndex: zIndexOrder,\n            }}\n        >\n            {children}\n        </div>\n    );\n};\n\nexport default Draggable;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}